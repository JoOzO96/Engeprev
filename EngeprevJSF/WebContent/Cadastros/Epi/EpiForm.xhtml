<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui">
<h:head>
	<title></title>
	<script type="text/javascript">
		function popupwindow(url, title) {
			window
					.open(
							url,
							title,
							"toolbar=no, scrollbars=yes, resizable=yes, top=170, left=170, width=1300, height=800");
		}
		function testaValor(valor){
			alert ("Teste");
			if (valor == null){
				popupwindow("https://consultaca.com/", "Consulta CA");
			}else{
				popupwindow("https://consultaca.com/" + valor, "Consulta CA");
			}
		}
	</script>
</h:head>
<h:body>
	<h:form id="formEditar">
		<p:growl autoUpdate="true"></p:growl>
		<p:focus for="nome" />
		<p:panelGrid columns="2" style="width: 100%; height: 100%;">
			<f:facet name="header">
				<p:outputLabel value="Edição de EPI" />
			</f:facet>

			<p:outputLabel value="Código:" for="id" />
			<p:inputText id="id" disabled="true" size="5"
				value="#{epiCrud.objeto.id_epi}" />

			<p:outputLabel value="Nome: *" for="nome" />
			<p:inputText id="nome" size="50" value="#{epiCrud.objeto.nome}" />

			<p:commandLink value="CA: *" for="ca" onclick="valor(#{epiCrud.objeto.ca})" />
			<p:inputText id="ca" size="50" value="#{epiCrud.objeto.ca}" />

			<p:outputLabel value="Data de Validade: *" for="datavalidade" />
			<p:calendar id="datavalidade" size="50"
				value="#{epiCrud.objeto.datavalidade}" pattern="dd/MM/yyyy"
				mask="true"></p:calendar>

			<p:outputLabel value="Quantidade: *" for="quantidade" />
			<p:inputText id="quantidade" size="50" disabled="true"
				value="#{epiCrud.objeto.quantidade}" />

			<p:outputLabel value="Valor Unitário: *" for="valor_un" />
			<p:inputNumber id="valor_un" decimalSeparator=","
				thousandSeparator="." symbol="R$ " type="text" decimalPlaces="3"
				value="#{epiCrud.objeto.valor_un}" />

			<f:facet name="footer">
				<p:commandButton value="Gravar" action="#{epiCrud.gravar}"
					ajax="false" icon="fa fa-check fa-lg"
					style="width:88px;height:20px" />
				<p:commandButton value="Cancelar" action="#{epiCrud.cancelar}"
					ajax="false" immediate="true" icon="fa fa-close fa-lg"
					style="width:88px;height:20px" />
			</f:facet>
		</p:panelGrid>
	</h:form>
	<p:dialog header="Consulta CA" widgetVar="dialogoCA" width="800"
		height="600" resizable="false" modal="true">

		<iframe src="../MateriaPrima/MateriaPrimaList.xhtml"
			style="width: 100%; height: 100%;" frameborder="0"></iframe>

	</p:dialog>
</h:body>
</html>